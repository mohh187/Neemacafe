<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>منيو نيمة | Neema Menu — جوال + لغتين + داكن/فاتح</title>
  <style>

     @font-face {
        font-family: 'SaudiRiyalSymbol';
        src: url('saudiriyal.woff2') format('woff2'),
             url('saudiriyal.woff') format('woff'),
             url('saudiriyal.otf') format('opentype');
    }
    .symbol {
        font-family: 'SaudiRiyalSymbol', sans-serif;
        font-size: inherit;
        color: inherit;
        font-weight: bold;
        vertical-align: middle;
        margin-left: 4px;
    }

    :root{
      --brand:#8b5e3c; --brand-2:#d4a373; --brand-dark:#70492d;
      --bg:#faf8f6; --card:#ffffff; --text:#1f1f1f; --muted:#6b6b6b; --border:#e9e6e3;
      --radius:16px; --shadow:0 10px 24px rgba(0,0,0,.08);
    }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; background:var(--bg); color:var(--text);}
    /* Dark mode */
    body.dark{ --bg:#0f0f0f; --card:#1a1a1a; --text:#f3f3f3; --muted:#b7b7b7; --border:#2a2a2a; }

    /* Header */
    header{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.9);backdrop-filter:saturate(140%) blur(8px);border-bottom:1px solid var(--border)}
    body.dark header{background:rgba(20,20,20,.82)}
    .wrap{max-width:960px;margin-inline:auto;padding:12px 14px}
    .top{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{width:48px;height:48px;border-radius:12px;border:1px solid var(--border);background:#fff;object-fit:contain}
    .brand h1{font-size:18px;margin:0;line-height:1.2}

    .actions{display:flex;gap:8px;align-items:center}
    .btn{border:1px solid var(--border);background:var(--card);color:var(--text);padding:8px 10px;border-radius:10px;font-size:14px;cursor:pointer}
    .btn.primary{background:var(--brand);border-color:transparent;color:#fff}
    .btn.ghost{background:transparent}

    /* Search */
    .search{display:flex;gap:8px;margin:10px 0 8px}
    .search input{flex:1;padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:var(--card);color:var(--text);font-size:15px}

    /* Sections */
    main{max-width:960px;margin-inline:auto;padding:10px 14px 80px}
    details{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;margin:10px 0}
    summary{list-style:none;padding:14px 16px;cursor:pointer;display:flex;align-items:center;gap:10px;font-weight:700}
    summary::marker{display:none}
    .pill{display:inline-block;background:#efe6de;color:#5a3a22;border-radius:999px;padding:3px 8px;font-size:12px;margin-inline-start:6px}
    body.dark .pill{background:#2b221b;color:#d9c3ad}

    .grid{display:grid;grid-template-columns:1fr;gap:10px;padding:8px 12px 14px}
    @media(min-width:520px){.grid{grid-template-columns:repeat(2,1fr)}}

    .item{display:grid;grid-template-columns:72px 1fr;gap:10px;align-items:center;background:var(--card);border:1px solid var(--border);border-radius:14px;padding:10px}
    .thumb{width:72px;height:72px;border-radius:12px;overflow:hidden;border:1px solid var(--border);background:#fafafa}
    .thumb img{width:100%;height:100%;object-fit:contain;background:#fafafa}
    .line{display:flex;align-items:center;gap:8px}
    .name{font-weight:700}
    .dots{flex:1 1 auto;border-bottom:1px dotted #c9c3bd;transform:translateY(-4px);opacity:.6}
    .price{font-weight:800;color:var(--brand)}
    .sub{font-size:12px;color:var(--muted)}

    /* Bottom bar: table select + call waiter */
    .bar{position:fixed;bottom:0;left:0;right:0;z-index:25;background:var(--card);border-top:1px solid var(--border);padding:10px}
    .bar .inner{max-width:960px;margin-inline:auto;display:flex;gap:8px}
    select, .bar .inner .btn{flex:1}

    footer{color:var(--muted);text-align:center;margin:18px 0 90px}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="top">
        <div class="brand">
          <!-- استخدم نفس الصورة المؤقتة لكل العناصر -->
          <img src="https://i.postimg.cc/g0g9RwM0/Untitled-design-9.png" alt="Neema Menu" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 320 160\'%3E%3Crect width=\'100%25\' height=\'100%25\' fill=\'%23f3eee9\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' dominant-baseline=\'middle\' text-anchor=\'middle\' fill=\'%238b5e3c\' font-size=\'18\' font-family=\'Arial\'\'>Neema Menu%3C/text%3E%3C/svg%3E'">
          <div>
            <h1 id="title">منيو نيمة</h1>
            <span class="pill" id="tagline">مذاق ينبت من الجذور</span>
          </div>
        </div>
        <div class="actions">
          <button class="btn" id="langBtn">English</button>
          <button class="btn" id="modeBtn">🌙</button>
        </div>
      </div>
      <div class="search">
        <input id="search" placeholder="ابحث باسم الصنف… (مثال: لاتيه، موهيتو)">
      </div>
    </div>
  </header>

  <main>
    <!-- Hot Drinks -->
    <details open>
      <summary>🔥 <span data-i18n="hot_drinks">المشروبات الساخنة</span></summary>
      <div class="grid" id="hot-coffee"></div>
      <div class="grid" id="hot-tea"></div>
    </details>

    <!-- Cold Drinks -->
    <details>
      <summary>❄️ <span data-i18n="cold_drinks">المشروبات الباردة</span></summary>
      <div class="grid" id="cold-coffee"></div>
      <div class="grid" id="cold-mojito"></div>
      <div class="grid" id="cold-other"></div>
    </details>

    <!-- Dessert -->
    <details>
      <summary>🍰 <span data-i18n="dessert">الحَلَى</span></summary>
      <div class="grid" id="dessert-cake"></div>
      <div class="grid" id="dessert-side"></div>
    </details>

    <footer>
      <div id="foot">© جميع الحقوق محفوظة - نيمة كافيه</div>
    </footer>
  </main>

  <!-- Bottom bar -->
  <div class="bar">
    <div class="inner">
      <select id="table"></select>
      <button class="btn primary" id="callBtn">🔔 <span data-i18n="call_waiter">طلب النادل</span></button>
    </div>
  </div>

  <script>
    // Telegram creds (تحذير: للاختبار السريع فقط، للإنتاج استخدم سيرفر وسيط)
    const TELEGRAM_BOT_TOKEN = '8234122453:AAGmkEFETh1yuXzgDHChoTu0YFuD0BeVK8c';
    const TELEGRAM_CHAT_ID = '5070730903';

    // Language state
    let lang = localStorage.getItem('nima.lang') || 'ar';

    const STRINGS = {
      ar: {
        title:'منيو نيمة', tagline:'قائمة جوال • ثنائية اللغة • داكن/فاتح', search:'ابحث باسم الصنف… (مثال: لاتيه، موهيتو)',
        hot_drinks:'المشروبات الساخنة', cold_drinks:'المشروبات الباردة', dessert:'الحَلَى', call_waiter:'طلب النادل',
        table:'طاولة', footer:'© نيمة كافيه — قائمة تفاعلية للجوال'
      },
      en: {
        title:'Neema Menu', tagline:'Mobile Menu • Bilingual • Dark/Light', search:'Search item… (e.g., Latte, Mojito)',
        hot_drinks:'Hot Drinks', cold_drinks:'Cold Drinks', dessert:'Dessert', call_waiter:'Call Waiter',
        table:'Table', footer:'© Neema Café — Interactive Mobile Menu'
      }
    };

    // Menu data (Arabic + English names), all images use the same placeholder SVG
    const IMG = 'https://i.postimg.cc/Y0GT5M1f/image.png';
    const data = {
      hot: {
        coffee: [
          {ar:'ڤي 60', en:'V60', price:13, img:IMG},
          {ar:'قهوة اليوم', en:'Coffee of the Day', price:8, img:IMG},
          {ar:'امريكانو (صغير)', en:'Americano (Small)', price:6, img:IMG},
          {ar:'امريكانو (وسط)', en:'Americano (Medium)', price:8, img:IMG},
          {ar:'اسبريسو', en:'Espresso', price:6, img:IMG},
          {ar:'قهوة تركي', en:'Turkish Coffee', price:8, img:IMG},
          {ar:'جبنة (قهوة سودانية)', en:'Jabana (Sudanese Coffee)', price:6, img:IMG},
          {ar:'جبنة في جبنة (وسط)', en:'Jabana in Jabana (Medium)', price:16, img:IMG},
          {ar:'سبانش', en:'Spanish Latte (Hot)', price:12, img:IMG},
          {ar:'وايت موكا', en:'White Mocha (Hot)', price:18, img:IMG},
          {ar:'لاتيه', en:'Latte (Hot)', price:12, img:IMG},
          {ar:'كابتشينو', en:'Cappuccino', price:12, img:IMG},
          {ar:'كورتادو', en:'Cortado', price:7, img:IMG},
          {ar:'فلات وايت', en:'Flat White', price:12, img:IMG},
          {ar:'ميكاتو', en:'Macchiato', price:7, img:IMG},
          {ar:'قهوة فرنسي', en:'French Coffee', price:9, img:IMG}
        ],
        tea: [
          {ar:'شاي', en:'Tea', price:3, img:IMG},
          {ar:'شاي مقنن', en:'Strong Tea', price:6, img:IMG},
          {ar:'شاي حليب', en:'Milk Tea', price:6, img:IMG},
          {ar:'هوت شوكلت', en:'Hot Chocolate', price:13, img:IMG},
          {ar:'ماتشا', en:'Matcha (Hot)', price:16, img:IMG}
        ]
      },
      cold: {
        coffee: [
          {ar:'ڤي 60', en:'V60 (Iced)', price:13, img:IMG},
          {ar:'قهوة اليوم', en:'Coffee of the Day (Iced)', price:8, img:IMG},
          {ar:'امريكانو', en:'Iced Americano', price:9, img:IMG},
          {ar:'سبانش', en:'Spanish Latte (Iced)', price:17, img:IMG},
          {ar:'لاتيه', en:'Iced Latte', price:12, img:IMG},
          {ar:'سبانش لاتيه', en:'Spanish Latte', price:14, img:IMG},
          {ar:'وايت موكا', en:'White Mocha (Iced)', price:18, img:IMG},
          {ar:'لاتيه', en:'Iced Latte', price:12, img:IMG},
          {ar:'نيمة شيكن', en:'Nima Chicken (Cold Drink)', price:19, img:IMG},
          {ar:'بستاشيو لاتيه', en:'Pistachio Latte (Iced)', price:18, img:IMG}
        ],
        mojito: [
          {ar:'موهيتو', en:'Mojito', price:17, img:IMG},
          {ar:'موهيتو مكس', en:'Mojito Mix', price:18, img:IMG},
          {ar:'موهيتو بلو بيري/كود رد', en:'Blueberry Mojito / Code Red', price:17, img:IMG},
          {ar:'موهيتو بلو بيري/سفن آب', en:'Blueberry Mojito / 7up', price:15, img:IMG},
          {ar:'موهيتو فراولة/كود رد', en:'Strawberry Mojito / Code Red', price:17, img:IMG},
          {ar:'موهيتو فراولة/سفن آب', en:'Strawberry Mojito / 7up', price:15, img:IMG},
          {ar:'موهيتو بطيخ/كود رد', en:'Watermelon Mojito / Code Red', price:17, img:IMG},
          {ar:'موهيتو بطيخ/سفن آب', en:'Watermelon Mojito / 7up', price:15, img:IMG},
          {ar:'موهيتو باشن فروت/كود رد', en:'Passion Fruit Mojito / Code Red', price:17, img:IMG},
          {ar:'موهيتو باشن فروت/سفن آب', en:'Passion Fruit Mojito / 7up', price:15, img:IMG}
        ],
        other:[
          {ar:'كركديه', en:'Hibiscus', price:8, img:IMG}
        ]
      },
      dessert: {
        cake: [
          {ar:'نيمة كيك', en:'Nima Cake', price:18, img:IMG},
          {ar:'مونتي كيك', en:'Monte Cake', price:17, img:IMG},
          {ar:'بسبوسة تشيز كيك', en:'Basbousa Cheesecake', price:10, img:IMG},
          {ar:'مولتن دارك تشوكليت', en:'Molten Dark Chocolate', price:17, img:IMG}
        ],
        side: [
          {ar:'ينسون', en:'Anise Tea', price:4, img:IMG},
          {ar:'بسكويت شاي كبير', en:'Tea Biscuit (Large)', price:8, img:IMG},
          {ar:'بسكويت شاي صغير', en:'Tea Biscuit (Small)', price:3, img:IMG},
          {ar:'لقيمات', en:'Luqaimat', price:13, img:IMG}
        ]
      }
    };

    // Helpers
    const $ = (s)=>document.querySelector(s);
    const mount = (id, arr)=>{
      const root = document.getElementById(id); root.innerHTML='';
      arr.forEach(it=>{
        const name = (lang==='ar'?it.ar:it.en);
        const el = document.createElement('div'); el.className='item';
        el.innerHTML = `
          <div class="thumb"><img src="${it.img}" alt="${name}" onerror="this.src='https://placehold.co/200x200?text=Neema'"/></div>
          <div>
            <div class="line"><span class="name">${name}</span><span class="dots"></span><span class="price"><span class="symbol">&#xea;</span>${it.price}</span>
            
</div>
            <div class="sub">${lang==='ar'?'اضغط زر طلب النادل أسفل الصفحة للخدمة':'Use the Call Waiter button below for service'}</div>
          </div>`;
        root.appendChild(el);
      });
    };

    function renderAll(){
      // strings
      document.getElementById('title').textContent = STRINGS[lang].title;
      document.getElementById('tagline').textContent = STRINGS[lang].tagline;
      document.getElementById('search').placeholder = STRINGS[lang].search;
      document.querySelectorAll('[data-i18n="hot_drinks"]').forEach(e=> e.textContent = STRINGS[lang].hot_drinks);
      document.querySelectorAll('[data-i18n="cold_drinks"]').forEach(e=> e.textContent = STRINGS[lang].cold_drinks);
      document.querySelectorAll('[data-i18n="dessert"]').forEach(e=> e.textContent = STRINGS[lang].dessert);
      document.querySelectorAll('[data-i18n="call_waiter"]').forEach(e=> e.textContent = STRINGS[lang].call_waiter);
      document.getElementById('foot').textContent = STRINGS[lang].footer;

      // dir/lang
      document.documentElement.lang = lang==='ar'?'ar':'en';
      document.documentElement.dir = lang==='ar'?'rtl':'ltr';

      // items
      mount('hot-coffee', data.hot.coffee);
      mount('hot-tea', data.hot.tea);
      mount('cold-coffee', data.cold.coffee);
      mount('cold-mojito', data.cold.mojito);
      mount('cold-other', data.cold.other);
      mount('dessert-cake', data.dessert.cake);
      mount('dessert-side', data.dessert.side);
    }

    // Table select (1..15) + persist
    const tableSelect = document.getElementById('table');
    function fillTables(){
      tableSelect.innerHTML='';
      for(let i=1;i<=15;i++){
        const o=document.createElement('option');
        o.value=i; o.textContent = `${STRINGS[lang].table} ${i}`; tableSelect.appendChild(o);
      }
      const saved = localStorage.getItem('nima.table');
      if(saved) tableSelect.value=saved;
      tableSelect.onchange = ()=> localStorage.setItem('nima.table', tableSelect.value);
    }

  // Call waiter بدون فتح نافذة
document.getElementById('callBtn').addEventListener('click', ()=>{
  const t = tableSelect.value || '؟';
  const ar = `🔔 طاولة ${t} تحتاج خدمة`;
  const en = `🔔 Table ${t} needs service`;
  const text = encodeURIComponent(`${ar} | ${en}`);
  const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage?chat_id=${TELEGRAM_CHAT_ID}&text=${text}`;

  // إرسال الطلب للتليجرام بدون فتح نافذة جديدة
  fetch(url).catch(err => console.error(err));

  // رسالة منبثقة للعميل
  const toast = document.createElement('div');
  toast.textContent = '🔔 سوف يأتي إليك النادل لخدمتك فوراً!';
  toast.style.position = 'fixed';
  toast.style.bottom = '80px';
  toast.style.left = '50%';
  toast.style.transform = 'translateX(-50%)';
  toast.style.padding = '12px 20px';
  toast.style.borderRadius = '12px';
  toast.style.boxShadow = '0 4px 12px rgba(0,0,0,0.2)';
  toast.style.zIndex = '100';
  toast.style.opacity = '0';
  toast.style.transition = 'opacity 0.3s ease';
  if(document.body.classList.contains('dark')){
    toast.style.background = 'var(--brand-dark)';
    toast.style.color = '#fff';
  } else {
    toast.style.background = 'var(--brand)';
    toast.style.color = '#fff';
  }
  document.body.appendChild(toast);
  setTimeout(()=>{ toast.style.opacity = '1'; }, 50);
  setTimeout(()=>{
    toast.style.opacity = '0';
    setTimeout(()=> toast.remove(), 300);
  }, 3000);
});



    // Search filter
    const search = document.getElementById('search');
    search.addEventListener('input', ()=>{
      const q = search.value.trim().toLowerCase();
      const f = (arr)=>arr.filter(x=> (x.ar+x.en).toLowerCase().includes(q));
      mount('hot-coffee', f(data.hot.coffee));
      mount('hot-tea', f(data.hot.tea));
      mount('cold-coffee', f(data.cold.coffee));
      mount('cold-mojito', f(data.cold.mojito));
      mount('cold-other', f(data.cold.other));
      mount('dessert-cake', f(data.dessert.cake));
      mount('dessert-side', f(data.dessert.side));
      if(!q) renderAll();
    });

    // Mode toggle
    const modeBtn = document.getElementById('modeBtn');
    const initialMode = localStorage.getItem('nima.mode')||'light';
    if(initialMode==='dark') document.body.classList.add('dark');
    modeBtn.textContent = document.body.classList.contains('dark') ? '☀️' : '🌙';
    modeBtn.onclick = ()=>{
      document.body.classList.toggle('dark');
      localStorage.setItem('nima.mode', document.body.classList.contains('dark')?'dark':'light');
      modeBtn.textContent = document.body.classList.contains('dark') ? '☀️' : '🌙';
    };

    // Language toggle
    const langBtn = document.getElementById('langBtn');
    function updateLangBtn(){ langBtn.textContent = (lang==='ar') ? 'English' : 'العربية'; }
    langBtn.onclick = ()=>{ lang = (lang==='ar') ? 'en' : 'ar'; localStorage.setItem('nima.lang', lang); fillTables(); renderAll(); updateLangBtn(); };

    // Init
    fillTables();
    renderAll();
    updateLangBtn();
  </script>
</body>
</html>
